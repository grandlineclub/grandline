<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <link href="https://fonts.googleapis.com/css2?family=Kanit&display=swap" rel="stylesheet" />
  <title>Grand Line Poker Clock</title>
  <style>
    .header {
      background-color: #111;
      padding: 10px 20px;
      display: flex;
      justify-content: center;
      gap: 20px;
      border-bottom: 1px solid #444;
    }
    .header a {
      color: #fff;
      text-decoration: none;
      font-weight: bold;
      font-size: 16px;
      padding: 8px 12px;
      border-radius: 4px;
      transition: background 0.3s;
    }
    .header a:hover { background-color: #222; }

    body {
      background-color: #000;
      color: white;
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 40px;
      transition: background-color 0.5s ease;
    }

    #tournamentName { font-size: 32px; font-weight: bold; margin-bottom: 0; margin-top: 140px; }

    #timerContainer {
      display: flex; align-items: center; justify-content: center;
      position: relative; margin-bottom: 1px; flex-direction: column;
    }
    .logo { width: 140px; height: 140px; border-radius: 50%; object-fit: cover; border: 2px solid white; }
    #timer { font-size: 188px; font-weight: bold; margin: 0; line-height: 1; }

    #designerCredit {
      color: #222; position: absolute; right: 10px; top: 0; bottom: 0; margin: auto 0;
      font-size: 14px; font-style: italic; opacity: 0.6; height: fit-content; pointer-events: none;
    }
    #progressBarContainer {
      width: 100%; height: 20px; background-color: #222; border-radius: 10px; overflow: hidden;
      margin-top: 4px; max-width: 600px; position: relative;
    }

    #pauseOverlay {
      position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
      font-size: 140px; font-weight: bold; color: #00f; display: none; pointer-events: none;
    }

    .info { font-size: 68px; font-weight: bold; font-family: 'Kanit', sans-serif; margin: 1px 0; }
    #nextLevel { font-size: 28px; font-weight: bold; font-family: 'Kanit', sans-serif; color:#FF8F6B; }
    #averageStack { font-size: 28px; font-weight: bold; font-family: 'Kanit', sans-serif; color:#81D8D0; }

    button {
      font-size: 20px; margin: 10px; padding: 10px 20px; background-color: #444;
      border: none; color: white; cursor: pointer; border-radius: 5px;
    }
    button:hover { background-color: #666; }

    .controls { display: flex; justify-content: space-between; flex-wrap: wrap; max-width: 700px; margin: 0 auto; margin-top: 6px; }
    #progressBar { height: 100%; width: 100%; background: green; transition: width 1s linear, background 0.5s ease; }

    #prizePoolDisplay { font-size: 38px; line-height: 1.6; white-space: pre-line; }

    .input-section { display: flex; justify-content: center; gap: 10px; margin-top: 200px; flex-wrap: wrap; }
    .input-box { display: flex; align-items: center; gap: 10px; }
    .input-box span { font-size: 20px; }
    .input-box button { padding: 4px 10px; }

    #rotatingContainer {
      width: 100%; overflow: hidden; position: relative; height: 38px; margin-top: 6px;
      max-width: 600px; margin-left: auto; margin-right: auto;
    }
    #rotatingMessage {
      display: inline-block; white-space: nowrap; position: absolute; will-change: transform;
      animation: scrollMessage 15s linear infinite; font-size: 28px; color: #ffeb3b; font-family: 'Kanit', sans-serif;
      width: 100%; text-align: center;
    }
    @keyframes scrollMessage {
      0% { transform: translateX(100%); }
      100% { transform: translateX(-150%); }
    }

    /* Start overlay */
    #startButtonOverlay {
      position: fixed; inset: 0; background-color: rgba(0,0,0,0.85);
      display: flex; justify-content: center; align-items: center; z-index: 1000;
    }
    #startButton {
      font-size: 40px; padding: 20px 40px; background-color: #00f; color: #fff; border: none; cursor: pointer; border-radius: 10px;
    }
  </style>
</head>
<body>

  <div id="startButtonOverlay">
    <button id="startButton">Start Clock</button>
  </div>

  <div class="header">
    <a href="index.html">üè† Home</a>
    <a href="clock1.html">‚è∞ Clock</a>
    <a href="index.html">üèÜ Ranking</a>
    <a href="drawchart.html">‚ô†Ô∏è Out Hit Card</a>
    <a href="preflop.html">üÉè Preflop Range</a>
  </div>

  <div id="tournamentName">Grand Line Tournament 2025</div>

  <div id="rotatingContainer"><div id="rotatingMessage"></div></div>

  <div id="timerContainer">
    <div style="display: flex; align-items: center; justify-content: center; gap: 30px;">
      <img class="logo" src="https://img2.pic.in.th/pic/IMG_3907b97570236459f0f7.png" alt="Logo Left" />
      <div id="timer">00:10:00</div>
      <img class="logo" src="https://img2.pic.in.th/pic/IMG_3907b97570236459f0f7.png" alt="Logo Right" />
      <div id="pauseOverlay">PAUSE</div>
    </div>
    <div id="progressBarContainer">
      <div id="progressBar"></div>
      <div id="designerCredit">Design by NewZ Sensei</div>
    </div>
  </div>

  <div class="info" id="blinds">100/200</div>
  <div class="info" id="nextLevel">Next level: 200/400 (400)</div>
  <div class="info" id="averageStack">Average Stack: -</div>
  <div class="info" id="prizePoolDisplay" style="display: none;">Prize Pool: -</div>

  <div class="input-section">
    <div class="input-box">
      <span>Remaining:</span>
      <button onclick="adjustRemain(-1)">-</button>
      <span id="remainCount">9</span>
      <button onclick="adjustRemain(1)">+</button>
    </div>
    <div class="input-box">
      <span>Register</span>
      <button onclick="adjustBuyIn(-1)">-</button>
      <span id="buyInCount">9</span>
      <button onclick="adjustBuyIn(1)">+</button>
    </div>
  </div>

  <div class="controls">
    <button onclick="confirmPrevLevel()">Previous</button>
    <button onclick="subtractTime()">-30</button>
    <button onclick="togglePause()"><span id="pausePlayText">Pause</span></button>
    <button onclick="addTime()">+30</button>
    <button onclick="confirmNextLevel()">Next</button>
  </div>

  <audio id="alert60Custom" preload="auto" src="https://media.vocaroo.com/mp3/1aQzREpVljO0"></audio>
  <audio id="countdown"    preload="auto" src="https://media.vocaroo.com/mp3/1ljAIqnw289L"></audio>
  <audio id="whistleSound" preload="auto" src="https://media.vocaroo.com/mp3/1mS0nADire2c"></audio>

  <script>
    const levels = [
      { blinds: "100 / 100",  duration: 900 },
      { blinds: "100 / 200",  duration: 899 },
      { blinds: "200 / 300",  duration: 899 },
      { blinds: "200 / 400",  duration: 899 },
      { blinds: "300 / 500",  duration: 899 },
      { blinds: "300 / 600",  duration: 899 },
      { blinds: "400 / 800",  duration: 899 },
      { blinds: "500 / 1,000",duration: 899 },
      { blinds: "600 / 1,200",duration: 899 },
      { blinds: "800 / 1,500",duration: 899 },
      { blinds: "1,000 / 2,000", duration: 899 },
      { blinds: "1,000 / 2,500", duration: 899 },
      { blinds: "1,500 / 3,000", duration: 899 },
      { blinds: "2,000 / 4,000", duration: 899 },
      { blinds: "2,000 / 5,000", duration: 899 },
      { blinds: "3,000 / 6,000", duration: 599 },
      { blinds: "4,000 / 8,000", duration: 599 },
      { blinds: "5,000 / 10,000", duration: 599 },
      { blinds: "7,000 / 15,000", duration: 599 },
      { blinds: "10,000 / 20,000", duration: 599 },
      { blinds: "15,000 / 30,000", duration: 3599 }
    ];

    let currentLevel = 0;
    let timeLeft = levels[currentLevel].duration;
    let countdown;
    let isPaused = false;
    let hasStarted = false;
    let warned60 = false;
    let warned10 = false;
    let warnedEnd = false;

    let buyIn = 9;
    let remain = 9;

    const timerDisplay = document.getElementById("timer");
    const pauseOverlay = document.getElementById("pauseOverlay");
    const pausePlayText = document.getElementById("pausePlayText");
    const blindsDisplay = document.getElementById("blinds");

    const nextLevelDisplay = document.getElementById("nextLevel");
    const averageStackDisplay = document.getElementById("averageStack");
    const prizePoolDisplay = document.getElementById("prizePoolDisplay");
    const alert60Custom = document.getElementById("alert60Custom");
    const countdownSound = document.getElementById("countdown");
    const whistleSound = document.getElementById("whistleSound");
    const progressBar = document.getElementById("progressBar");
    const rotatingContainer = document.getElementById("rotatingContainer");
    const rotatingMessage = document.getElementById("rotatingMessage");

    const startButtonOverlay = document.getElementById("startButtonOverlay");
    const startButton = document.getElementById("startButton");

    function formatTime(seconds) {
      const mins = String(Math.floor(seconds / 60)).padStart(2, '0');
      const secs = String(seconds % 60).padStart(2, '0');
      return `${mins}:${secs}`;
    }

    function updateDisplay() {
      timerDisplay.textContent = formatTime(timeLeft);
      const currentBlinds = levels[currentLevel].blinds;

      if (currentBlinds === "Break") {
        blindsDisplay.textContent = "Break";
      } else {
        const [sb, bb] = currentBlinds.split('/').map(s => s.trim());
        blindsDisplay.textContent = `${sb} / ${bb} (${bb})`;

        const bbValue = parseInt(bb.replace(/,/g, ''));
        const prizeVisible = prizePoolDisplay.style.display !== "none";
        rotatingContainer.style.display = (bbValue >= 2000 || prizeVisible) ? "none" : "block";
      }

      if (currentLevel < levels.length - 1) {
        const next = levels[currentLevel + 1];
        if (next.blinds === "Break") {
          nextLevelDisplay.textContent = "Next level: Break";
        } else {
          const nextBig = next.blinds.split('/')[1].trim();
          nextLevelDisplay.textContent = `Next level: ${next.blinds} (${nextBig})`;
        }
      } else {
        nextLevelDisplay.textContent = "Final Level";
      }

      const totalDuration = levels[currentLevel].duration;
      const percentage = (timeLeft / totalDuration) * 100;
      progressBar.style.width = percentage + "%";

      if (percentage > 40) {
        progressBar.style.background = "linear-gradient(to right, #00cc66, #aaff00)";
      } else if (percentage > 20) {
        progressBar.style.background = "linear-gradient(to right, #ffee00, #ff9900)";
      } else {
        progressBar.style.background = "linear-gradient(to right, #ff3300, #ff0000)";
      }

      updateAverageStack();
      updatePrizePool();

      const msgIndex = Math.floor((levels[currentLevel].duration - timeLeft) / 120) % messages.length;
      rotatingMessage.textContent = messages[msgIndex];
    }

    function safePlay(audioEl, label) {
      try {
        // ‡∏´‡∏≤‡∏Å‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏¢‡∏π‡πà ‡πÉ‡∏´‡πâ‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡πà‡∏≠‡∏ô
        if (!audioEl.paused) {
          audioEl.pause();
          audioEl.currentTime = 0;
        }
        const p = audioEl.play();
        if (p && typeof p.then === "function") {
          p.catch(err => {
            // ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ console.error ‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠ play ‡∏ñ‡∏π‡∏Å block
            if (err.name === "NotAllowedError" || err.name === "AbortError") {
              // ‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥
            } else {
              console.error(label + " play error:", err);
            }
          });
        }
      } catch (e) {
        console.error(label + " exception:", e);
      }
    }
    
    function startLevel() {
      timeLeft = levels[currentLevel].duration;
      updateDisplay();
      warned60 = false;
      warned10 = false;
      warnedEnd = false;

      clearInterval(countdown);
      countdown = setInterval(() => {
        if (!isPaused) {
          // NOTE: setInterval ‡∏≠‡∏≤‡∏à‡πÇ‡∏î‡∏ô throttle ‚Üí ‡πÉ‡∏ä‡πâ <= ‡πÅ‡∏ó‡∏ô ===
          timeLeft--;
          if (timeLeft < 0) timeLeft = 0;

          // 60s alert
          if (timeLeft <= 60 && !warned60) {
            safePlay(alert60Custom, "60s");
            warned60 = true;
          }

          // 10s alert
          if (timeLeft <= 10 && !warned10) {
            safePlay(countdownSound, "10s");
            warned10 = true;
          }

          // BG effect
          document.body.style.backgroundColor = (timeLeft <= 10 && timeLeft > 0) ? "#900" : "#000";

          // End whistle
          if (timeLeft <= 1 && !warnedEnd) {
            safePlay(whistleSound, "end");
            warnedEnd = true;
          }

          updateDisplay();

          if (timeLeft <= 0) {
            document.body.style.backgroundColor = "#000";
            clearInterval(countdown);
            nextLevel();
          }
        }
      }, 1000);
    }

    function togglePause() {
      isPaused = !isPaused;
      pausePlayText.textContent = isPaused ? "Play" : "Pause";
      pauseOverlay.style.display = isPaused ? "block" : "none";
    }

    function nextLevel() {
      if (currentLevel < levels.length - 1) {
        currentLevel++;
        startLevel();
      } else {
        timerDisplay.textContent = "„Å§„Å•„Åè";
        blindsDisplay.textContent = "‡πÇ‡∏õ‡∏£‡∏î‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏ï‡∏≠‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏õ";
        nextLevelDisplay.textContent = "";
        progressBar.style.width = "0%";
      }
    }

    function prevLevel() {
      if (currentLevel > 0) {
        currentLevel--;
        startLevel();
      }
    }

    function confirmNextLevel() { if (confirm("‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ Next ?")) nextLevel(); }
    function confirmPrevLevel() { if (confirm("‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ Previous ?")) prevLevel(); }
    function addTime() { timeLeft += 30; updateDisplay(); }
    function subtractTime() { timeLeft = Math.max(0, timeLeft - 30); updateDisplay(); }

    function adjustBuyIn(val) {
      if (val > 0) { if (!confirm("‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏° ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô Buy in ‡πÉ‡∏ä‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?")) return; }
      else if (val < 0) { if (!confirm("‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏•‡∏ö ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô Buy in ‡πÉ‡∏ä‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?")) return; }
      buyIn = Math.max(0, buyIn + val);
      document.getElementById("buyInCount").textContent = buyIn;
      updateDisplay();
    }
    function adjustRemain(val) {
      remain = Math.max(0, remain + val);
      document.getElementById("remainCount").textContent = remain;
      updateDisplay();
    }

    function updateAverageStack() {
      if (remain <= 4) { averageStackDisplay.style.display = "none"; return; }
      averageStackDisplay.style.display = "block";
      if (buyIn > 0 && remain > 0) {
        const avg = Math.floor((buyIn * 15000) / remain);
        averageStackDisplay.textContent = `Average Stack: ${avg.toLocaleString()}`;
      } else {
        averageStackDisplay.textContent = "Average Stack: -";
      }
    }

    function updatePrizePool() {
      const blindsValue = levels[currentLevel].blinds;
      if (!blindsValue.includes(" / ")) { prizePoolDisplay.style.display = "none"; return; }
      const [sb, bb] = blindsValue.split(" / ").map(s => parseInt(s.replace(/,/g, '')));
      if (bb < 1800) { prizePoolDisplay.style.display = "none"; return; }
      prizePoolDisplay.style.display = "block";

      const totalPrize = (buyIn * 400);
      let text = ``;
      if (buyIn <= 15) {
        let first = Math.round(totalPrize / 100) * 100;
        text += `ü•á ${first.toLocaleString()}`;
      } else if (buyIn <= 23) {
        let first = Math.round(totalPrize * 0.70 / 100) * 100;
        let second = Math.round(totalPrize * 0.30 / 100) * 100;
        let diff = totalPrize - (first + second);
        first += diff;
        text += `ü•á ${first.toLocaleString()}<br>ü•à ${second.toLocaleString()}`;
      } else {
        let first = Math.round(totalPrize * 0.5 / 100) * 100;
        let second = Math.round(totalPrize * 0.3 / 100) * 100;
        let third = Math.round(totalPrize * 0.2 / 100) * 100;
        let diff = totalPrize - (first + second + third);
        first += diff;
        text += `ü•á ${first.toLocaleString()}<br>ü•à ${second.toLocaleString()}<br>ü•â ${third.toLocaleString()}`;
      }
      prizePoolDisplay.innerHTML = text;
    }

    const messages = [
      "‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏∏‡∏Å‡∏°‡∏∑‡∏≠ ‡πÅ‡∏ï‡πà‡∏ó‡∏∏‡∏Å‡∏°‡∏∑‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏•‡πà‡∏ô",
      "‡∏Å‡∏≤‡∏£‡∏ö‡∏•‡∏±‡∏ü‡∏ó‡∏µ‡πà‡∏û‡∏•‡∏≤‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏ö‡∏•‡∏±‡∏ü‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡πÅ‡∏û‡πâ",
      "‡πÑ‡∏û‡πà‡πÉ‡∏ô‡∏°‡∏∑‡∏≠‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ô‡πà‡∏≤‡∏Å‡∏•‡∏±‡∏ß‡πÄ‡∏ó‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏•‡∏±‡∏ß‡πÉ‡∏ô‡πÉ‡∏à‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏≠‡∏á",
      "‡∏î‡∏ß‡∏á‡∏≠‡∏≤‡∏à‡∏û‡∏≤‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏õ‡πÑ‡∏î‡πâ‡πÑ‡∏Å‡∏• ‡πÅ‡∏ï‡πà‡∏ù‡∏µ‡∏°‡∏∑‡∏≠‡∏à‡∏∞‡∏û‡∏≤‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏õ‡πÑ‡∏î‡πâ‡πÑ‡∏Å‡∏•‡∏Å‡∏ß‡πà‡∏≤",
      "‡∏à‡∏á‡πÉ‡∏ä‡πâ‡∏™‡∏°‡∏≠‡∏á‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏´‡∏•‡∏≠‡∏Å",
      "‡∏ö‡∏≤‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏Å‡∏≤‡∏£‡πÑ‡∏°‡πà‡πÄ‡∏•‡πà‡∏ô ‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏â‡∏µ‡∏¢‡∏ö‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î",
      "‡∏ó‡∏∏‡∏Å‡∏Å‡∏≤‡∏£‡∏´‡∏°‡∏≠‡∏ö ‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏ó‡∏∏‡∏ô‡πÑ‡∏ß‡πâ‡∏£‡∏ö‡πÉ‡∏ô‡∏ï‡∏≤‡∏ñ‡∏±‡∏î‡πÑ‡∏õ",
      "‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏û‡πâ‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏µ‡∏ö‡∏£‡πâ‡∏≠‡∏ô ‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏ä‡∏ô‡∏∞‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏≠‡πÑ‡∏î‡πâ",
      "‡πÑ‡∏û‡πà‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ä‡∏ô‡∏∞‡∏£‡∏≠‡∏ö‡∏´‡∏ô‡∏∂‡πà‡∏á ‡πÅ‡∏ï‡πà‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ä‡∏ô‡∏∞‡∏ó‡∏±‡πâ‡∏á‡πÄ‡∏Å‡∏°",
      "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏•‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏Å‡∏≤‡∏£ All in ‡πÅ‡∏ï‡πà‡∏°‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏Å‡∏≤‡∏£‡∏´‡∏°‡∏≠‡∏ö",
      "‡∏ù‡∏µ‡∏°‡∏∑‡∏≠‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ß‡∏±‡∏î‡∏à‡∏≤‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏ä‡∏ô‡∏∞ ‡πÅ‡∏ï‡πà‡∏ô‡∏±‡∏ö‡∏à‡∏≤‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏Å‡∏°‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á",
      "‡πÇ‡∏õ‡πä‡∏Å‡πÄ‡∏Å‡∏≠‡∏£‡πå‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡πÇ‡∏ä‡∏Ñ ‡πÅ‡∏ï‡πà‡∏°‡∏±‡∏ô‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡πÇ‡∏ä‡∏Ñ‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î",
      "‡∏à‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏Å Value ‡∏à‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô Re-Buy",
      "‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πâ Grand Line ‡∏à‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏Å‡∏•‡∏±‡∏ß ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏•‡∏±‡∏ß ‡∏°‡∏±‡∏ô‡∏à‡∏∞‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏à‡∏£‡∏¥‡∏á"
    ];

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Prime Audio: ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÉ‡∏ô‡∏†‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á
    function primeAudio(audioEl) {
      if (!audioEl) return;
      try {
        audioEl.volume = 0; // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏ö‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
        audioEl.muted = true; // ‡∏õ‡∏¥‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á
        const p = audioEl.play();
        if (p && typeof p.then === "function") {
          p.then(() => {
            audioEl.pause();
            audioEl.currentTime = 0;
            audioEl.muted = false;
            audioEl.volume = 1;
          }).catch(()=>{});
        }
      } catch (_) {}
    }

    startButton.addEventListener('click', () => {
      startButtonOverlay.style.display = 'none';
      hasStarted = true;

      // Prime ‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≤‡∏°‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏™‡∏µ‡∏¢‡∏á ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏°
      primeAudio(alert60Custom);
      primeAudio(countdownSound);
      primeAudio(whistleSound);

      // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ô‡∏±‡∏ö
      startLevel();
    });

    // initial paint
    updateDisplay();
  </script>

</body>
</html>
